# E-Commerce Platform - Environment Configuration

## LOCAL vs PRODUCTION

Copy this file to .env.docker for local Docker setup
Copy this file to .env.production for production deployment

Different modes handle package imports differently:
- LOCAL: Uses source packages from /packages and /services
- PRODUCTION: Uses pre-built packages from node_modules

# ==========================================
# PACKAGE RESOLUTION CONFIGURATION
# ==========================================

# Development: Import from source packages (/packages/*/src)
# Production: Import from node_modules (pre-built packages)

# LOCAL DEVELOPMENT (.env.docker)
NODE_ENV=development
PACKAGE_MODE=local
RESOLVE_FROM_SOURCE=true
NODE_PATH=./packages:./services

# PRODUCTION (.env.production)
# NODE_ENV=production
# PACKAGE_MODE=production
# RESOLVE_FROM_SOURCE=false

# ==========================================
# DATABASE CONFIGURATIONS
# ==========================================

# MongoDB Configuration (Local)
# Local: mongodb://localhost:27017/ecommerce
# Production: mongodb+srv://admin:admin@cluster0.wei5wdz.mongodb.net/ecommerce?appName=Cluster0
MONGODB_URL=mongodb://localhost:27017/ecommerce
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=password
MONGO_DATABASE_NAME=ecommerce

# Redis Configuration (Local)
# Local: redis://localhost:6379
# Production: redis://default:admin@redis-19256.c98.us-east-1-4.ec2.cloud.redislabs.com:19256
REDIS_URL=redis://localhost:6379
REDIS_DATABASE=ecommerce

# ==========================================
# MICROSERVICES CONFIGURATION
# ==========================================

# Services URLs (Local)
AUTH_SERVICE_URL=http://localhost:3011
CATEGORY_SERVICE_URL=http://localhost:3012
COUPON_SERVICE_URL=http://localhost:3013
PRODUCT_SERVICE_URL=http://localhost:3014
ORDER_SERVICE_URL=http://localhost:3015
GRAPHQL_GATEWAY_URL=http://localhost:4000

# ==========================================
# CORS & SECURITY
# ==========================================

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:3003,http://localhost:8081,http://localhost:8082

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production

# Password Hashing
BCRYPT_SALT_ROUNDS=10

# ==========================================
# CLOUDINARY CONFIGURATION (Image Uploads)
# ==========================================

VITE_CLOUDINARY_CLOUD_NAME=your-cloud-name
VITE_CLOUDINARY_UPLOAD_PRESET=your-upload-preset

# ==========================================
# EMAIL CONFIGURATION
# ==========================================

SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=test@example.com
SMTP_PASS=test
EMAIL_FROM=noreply@ecommerce.local

# ==========================================
# OAUTH CONFIGURATION
# ==========================================

GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ==========================================
# LOGGING CONFIGURATION
# ==========================================

LOG_LEVEL=debug
ENABLE_FILE_LOGGING=true

# ==========================================
# API ENDPOINTS (Frontend)
# ==========================================

VITE_API_URL=http://localhost:4000/graphql
NEXT_PUBLIC_API_URL=http://localhost:4000/graphql

# ==========================================
# DEVELOPMENT SETTINGS
# ==========================================

DEBUG=true
MOCK_AUTH=false
